<view class="container">
  <view class="login-box">
    <view class="title">双人解谜</view>
    <view class="subtitle">情侣协作闯关游戏</view>

    <view class="login-tabs">
      <view
        class="tab {{loginType === 'password' ? 'active' : ''}}"
        data-type="password"
        bindtap="switchLoginType"
      >
        账号登录
      </view>
      <view
        class="tab {{loginType === 'wechat' ? 'active' : ''}}"
        data-type="wechat"
        bindtap="switchLoginType"
      >
        微信登录
      </view>
    </view>

    <view class="login-form" wx:if="{{loginType === 'password'}}">
      <view class="form-item">
        <input
          class="input"
          type="text"
          placeholder="请输入用户名"
          value="{{username}}"
          bindinput="onUsernameInput"
        />
      </view>
      <view class="form-item">
        <input
          class="input"
          type="password"
          placeholder="请输入密码"
          value="{{password}}"
          bindinput="onPasswordInput"
        />
      </view>
      <button
        class="btn btn-primary"
        bindtap="handleLogin"
        loading="{{loading}}"
        disabled="{{loading}}"
      >
        登录
      </button>
      <view class="register-link" bindtap="goToRegister">
        还没有账号？立即注册
      </view>
    </view>

    <view class="login-form" wx:if="{{loginType === 'wechat'}}">
      <button
        class="btn btn-primary wechat-btn"
        bindtap="handleLogin"
        loading="{{loading}}"
        disabled="{{loading}}"
      >
        <image class="wechat-icon" src="/assets/icons/wechat.png" />
        微信快速登录
      </button>
    </view>
  </view>
</view>

